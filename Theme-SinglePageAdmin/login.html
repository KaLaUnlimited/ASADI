<!doctype html>
<html><head>
    <meta charset="utf-8">
    <title>BLOCKS - Bootstrap Dashboard Theme</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Carlos Alvarez - Alvarez.is">

    <!-- Le styles -->
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />

    <link href="css/login.css" rel="stylesheet">
    
	<script type="text/javascript" src="js/jquery.js"></script>    
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>

    <style type="text/css">
      body {
        padding-top: 30px;
      }

      pbfooter {
        position:relative;
      }
    </style>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
       
  	<!-- Google Fonts call. Font Used Open Sans & Raleway -->
	<link href="http://fonts.googleapis.com/css?family=Raleway:400,300" rel="stylesheet" type="text/css">
  	<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">

  	<!-- Jquery Validate Script -->
    <script type="text/javascript" src="js/jquery.validate.js"></script>

  	<!-- Jquery Validate Script - Validation Fields -->
		<script src="https://www.gstatic.com/firebasejs/4.9.0/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCzntWHt0eQrf8_T7sNXd7HDcmHmJQK-xM",
    authDomain: "realtime-d6489.firebaseapp.com",
    databaseURL: "https://realtime-d6489.firebaseio.com",
    projectId: "realtime-d6489",
    storageBucket: "realtime-d6489.appspot.com",
    messagingSenderId: "540451789449"
  };
  firebase.initializeApp(config);


    //Getting the Email/Password and Signin button from the the inputs above.
    let signIn = document.getElementById('login');
    //Listening on thesignIn button click.
    signIn.addEventListener('click', (ev) => {
        let email = document.getElementById('exampleInputEmail3').value;
        let password = document.getElementById('exampleInputPassword3').value;
        ev.preventDefault();
        console.log(email, password);
        firebase.auth().signInWithEmailAndPassword(email, password)
            .then(user => {
                alert('you succeeded')
                //Handling the successful authentication.
            }).catch(function (error) {
            //Handling the error showcasing. });
                alert('you failed. try again')
        }, false);
    });

    let phoneSignIn = document.getElementById('login2');
    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier('login2', {
        'size': 'invisible',
        'callback': function(response) {
            console.log("callback fired")
        }
    });

    phoneSignIn.addEventListener('click', (ev) => {
        console.log("phoneSignIn fired")
        ev.preventDefault();
        var appVerifier = window.recaptchaVerifier;
        let phoneNumber = document.getElementById('phonenumber').value;
        firebase.auth().signInWithPhoneNumber(phoneNumber, appVerifier)
            .then(function (confirmationResult) {
                resetRecaptcha();
                // SMS sent. Prompt user to type the code from the message, then sign the
                // user in with confirmationResult.confirm(code).
                var code = window.prompt('Enter the verification code you received by SMS');
                if (code) {
                    confirmationResult.confirm(code).then(function () {
                        console.log("success! user is logged in")
                        window.close();
                    }).catch(function (error) {
                        // User couldn't sign in (bad verification code?)
                        console.error('Error while checking the verification code', error);
                        window.alert('Error while checking the verification code:\n\n'
                            + error.code + '\n\n' + error.message)
                    });
                }
            }).catch(function (error) {
            // Error; SMS not sent
            // ...
        })
    });

    function resetRecaptcha() {
        return window.recaptchaVerifier.render().then(function(widgetId) {
            grecaptcha.reset(widgetId);
        });
    }
</script>

</head>

<style>

    .pbfooter {
        position:relative;
    }

</style>

  <body style="background:url('images/bg.jpg') no-repeat center center; height:700px;">
           
  	<!-- NAVIGATION MENU -->

    <div class="navbar-nav navbar-inverse navbar-fixed-top">
        <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><img src="images/logo30.png" alt=""> BLOCKS Dashboard</a>
        </div> 
          <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
              <li><a href="index.html"><i class="icon-home icon-white"></i> Home</a></li>  
               <li><a href="HubIndex.html"><i class="icon-home icon-white"></i> HUB</a></li>            
              <li><a href="tables.html"><i class="icon-th icon-white"></i> Tables</a></li>
              <li class="active"><a href="login.html"><i class="icon-lock icon-white"></i> Login</a></li>
              <li><a href="user.html"><i class="icon-user icon-white"></i> User</a></li>

            </ul>
          </div><!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">
        <div class="row">
   		<div class="col-lg-offset-4 col-lg-4" style="margin-top:100px">
   			<div class="block-unit" style="text-align:center; padding:8px 8px 8px 8px;">
   				<img src="images/face80x80.jpg" alt="" class="img-circle">
   				<br>
   				<br>
					<form class="cmxform" id="signupForm" method="get" action="">
						<fieldset>
							<p>
								<input id="exampleInputEmail3" name="username" type="text" placeholder="Email">
								<input id="exampleInputPassword" name="password" type="password" placeholder="Password">
							</p>
								<button id="login" type="submit" class="btn btn-default">Sign in</button>
						</fieldset>
					</form>
   			</div>

   		</div>


        </div>
    </div>



    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/javascript" src="js/bootstrap.js"></script>
    
  
</body></html>